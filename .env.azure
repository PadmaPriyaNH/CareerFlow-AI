# .env.azure - CareerFlow AI Azure Environment Configuration
# Copy this file to `.env` and fill in your Azure values

# ============================================================================
# DJANGO SETTINGS (Production - Azure)
# ============================================================================
DEBUG=False
SECRET_KEY=your-very-secure-secret-key-here-minimum-50-chars-random-string

# Azure Web App hostname (change to your app name)
ALLOWED_HOSTS=careerflow-ai-app.azurewebsites.net,yourdomain.com,www.yourdomain.com

# Request timeout and security
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True
SECURE_SSL_REDIRECT=True

# ============================================================================
# DATABASE CONFIGURATION (PostgreSQL on Azure)
# ============================================================================
# Format: postgresql://username:password@servername.postgres.database.azure.com:5432/dbname?sslmode=require
DATABASE_URL=postgresql://azureuser:YourSecurePassword123!@careerflow-ai-db.postgres.database.azure.com:5432/careerflow?sslmode=require

# Alternative: Configure individual database settings
DB_ENGINE=django.db.backends.postgresql
DB_NAME=careerflow
DB_USER=azureuser
DB_PASSWORD=YourSecurePassword123!
DB_HOST=careerflow-ai-db.postgres.database.azure.com
DB_PORT=5432

# ============================================================================
# OLLAMA AI SERVICE CONFIGURATION
# ============================================================================
# For Azure Container Instances (recommended for production):
OLLAMA_HOST=http://ollama-container.eastus.azurecontainers.io:11434

# For local development:
# OLLAMA_HOST=http://localhost:11434

# Model selection
OLLAMA_MODEL=mistral

# AI provider (keep as ollama unless using external service)
AI_PROVIDER=ollama
AI_MODEL=mistral

# Timeout settings (in seconds) - increase for slow connections
OLLAMA_TIMEOUT=60

# ============================================================================
# AZURE BLOB STORAGE CONFIGURATION (for Media/Resume Files)
# ============================================================================
USE_AZURE_STORAGE=True

# Storage account credentials (get from Azure Portal)
AZURE_ACCOUNT_NAME=careerflowstorage
AZURE_ACCOUNT_KEY=DefaultEndpointsProtocol=https;AccountName=careerflowstorage;AccountKey=YOUR_STORAGE_KEY;EndpointSuffix=core.windows.net

# Container and domain configuration
AZURE_CONTAINER=media
AZURE_CUSTOM_DOMAIN=careerflowstorage.blob.core.windows.net

# ============================================================================
# OPTIONAL: Azure Application Insights
# ============================================================================
APPINSIGHTS_INSTRUMENTATION_KEY=your-insights-key-here
APPINSIGHTS_CONNECTION_STRING=InstrumentationKey=...

# ============================================================================
# OPTIONAL: Email Configuration (for password reset)
# ============================================================================
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.office365.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@yourdomain.com
EMAIL_HOST_PASSWORD=your-app-specific-password

# From email address
DEFAULT_FROM_EMAIL=noreply@yourdomain.com

# ============================================================================
# OPTIONAL: Azure Key Vault Integration
# ============================================================================
# AZURE_KEYVAULT_URL=https://careerflow-kv.vault.azure.net/
# AZURE_KEYVAULT_CLIENT_ID=your-client-id
# AZURE_KEYVAULT_CLIENT_SECRET=your-client-secret

# ============================================================================
# OPTIONAL: Application-Specific Settings
# ============================================================================
# Number of interview questions to generate
INTERVIEW_QUESTIONS_COUNT=10

# Maximum resume file size (in MB)
MAX_RESUME_SIZE=10

# Supported resume file types
ALLOWED_RESUME_TYPES=pdf,docx

# ============================================================================
# LOGGING CONFIGURATION
# ============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# ============================================================================
# DEVELOPMENT VS PRODUCTION FLAGS
# ============================================================================
# Set to 'development' or 'production'
ENVIRONMENT=production

# Cache settings
CACHE_TIMEOUT=3600

# ============================================================================
# NOTES
# ============================================================================
# 1. Generate SECRET_KEY:
#    python -c "import secrets; print(secrets.token_urlsafe(50))"
#
# 2. Get DATABASE_URL from Azure:
#    az postgres flexible-server show --name careerflow-ai-db --resource-group careerflow-ai-rg --query fullyQualifiedDomainName
#
# 3. Get AZURE_ACCOUNT_KEY from Azure:
#    az storage account keys list --name careerflowstorage
#
# 4. Never commit this file to Git with real credentials!
#    Add to .gitignore: .env, .env.local, .env.*.local
#
# 5. For Azure App Service, add these as Application Settings in Azure Portal
#    instead of using an .env file
#
# 6. Recommended: Use Azure Key Vault for production secrets
#    See: https://learn.microsoft.com/en-us/azure/key-vault/
